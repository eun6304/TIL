# Docker 기본

![Alt text](./img/docker.png)

[Docker 공식 사이트](https://www.docker.com)

도커(Docker)는 애플리케이션을 **컨테이너**라는 단위로 패키징하여 쉽게 배포하고 실행할 수 있게 해주는 **가상화 플랫폼**이다. 도커를 사용하면 운영체제(OS) 위에서 격리된 환경을 제공하여 애플리케이션의 **이식성, 일관성, 효율성**을 크게 향상할 수 있다.

### 1. 도커의 핵심 개념
- **이미지(Image)**  
  애플리케이션과 필요한 환경 설정을 포함하는 템플릿 파일이다. 도커 이미지는 여러 레이어로 구성되어 있고, 애플리케이션이 작동하는 데 필요한 파일과 설정이 모두 포함되어 있어 빠르게 애플리케이션을 배포할 수 있다.

- **컨테이너(Container)**  
  도커 이미지를 기반으로 생성되는 실행 가능한 단위이다. 이미지가 애플리케이션의 청사진이라면, 컨테이너는 그 청사진을 실제로 실행한 인스턴스이다. 컨테이너는 호스트 시스템의 커널을 공유하면서도 애플리케이션별로 격리된 환경을 제공하여 빠르고 효율적으로 실행할 수 있다.

- **도커 허브(Docker Hub)**  
  도커 이미지를 저장하고 공유할 수 있는 레지스트리이다. 공개 이미지도 다수 제공하여 필요한 환경을 빠르게 셋업할 수 있으며, 개인 이미지를 저장할 수도 있다.

### 2. 도커의 주요 구성 요소
- **도커 엔진(Docker Engine)**  
  도커의 핵심 구성 요소로, 컨테이너와 이미지를 관리하고 실행하는 역할을 담당한다. 데몬(daemon) 방식으로 실행되며, 도커 명령을 받아 컨테이너 실행을 처리한다.

- **도커 CLI (Command Line Interface)**  
  도커 명령어를 통해 이미지를 가져오고, 컨테이너를 생성 및 관리할 수 있는 인터페이스이다. 예를 들어 `docker run`, `docker build`, `docker pull`과 같은 명령어로 도커를 조작할 수 있다.

- **도커 컴포즈(Docker Compose)**  
  여러 컨테이너로 구성된 애플리케이션을 손쉽게 정의하고 관리할 수 있게 해주는 도구이다. YAML 파일에 설정을 정의하면 여러 컨테이너를 일괄적으로 생성하고 실행할 수 있다.

### 3. 도커의 장점
- **이식성**  
  이미지로 패키징된 애플리케이션은 운영체제와 상관없이 어디서나 동일하게 실행할 수 있어, 테스트 환경에서의 실행 결과를 프로덕션 환경에서도 재현할 수 있다.

- **격리성**  
  컨테이너별로 독립된 네트워크, 파일 시스템, 프로세스를 사용하기 때문에 서로 다른 환경을 안전하게 실행할 수 있다.

- **경량성**  
  기존 가상 머신(VM)과 달리 호스트 OS의 커널을 공유하여 자원을 효율적으로 사용하며, 훨씬 빠르게 시작하고 종료할 수 있다.

### 4. 도커 사용 예시
아래는 도커를 사용하여 간단한 Ubuntu 리눅스 컨테이너를 실행하는 예제이다.

```bash
# 최신 Ubuntu 이미지 가져오기
docker pull ubuntu:latest

# Ubuntu 컨테이너 실행하기
docker run -it ubuntu:latest /bin/bash
```

위 명령을 통해 Ubuntu 이미지가 실행되며, 컨테이너 내에서 터미널 접속이 가능하다.

### 5. 도커의 활용 분야
- **개발 환경 구축**  
  로컬 개발 환경을 통일하여, 개발자 간 일관된 테스트 환경을 제공한다.
  
- **배포 자동화 및 CI/CD 파이프라인**  
  컨테이너 기반으로 배포 파이프라인을 구축하면 애플리케이션의 빌드, 테스트, 배포 과정을 자동화할 수 있다.

- **마이크로서비스 아키텍처**  
  각 서비스를 독립적인 컨테이너로 배포하여 관리하기 용이하다. 서비스별로 업데이트와 확장성을 유지하면서 서로 독립적으로 운영할 수 있다.

### 6. 도커와 VM 비교
- **가상 머신(VM)**은 하이퍼바이저 위에 각각의 OS를 실행하기 때문에 무겁고, 부팅에 시간이 걸린다.
- **도커 컨테이너**는 호스트 OS 커널을 공유하므로 자원을 절약하고 훨씬 빠르게 시작된다.

도커는 개발부터 배포까지 효율적으로 일관성을 유지하며 배포 환경을 지원하는 도구로, 특히 **클라우드와 DevOps 분야에서 필수적인 도구**로 자리 잡고 있다.